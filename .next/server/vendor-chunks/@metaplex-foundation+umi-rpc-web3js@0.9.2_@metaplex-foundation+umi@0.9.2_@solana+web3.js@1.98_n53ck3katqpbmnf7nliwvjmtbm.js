"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "vendor-chunks/@metaplex-foundation+umi-rpc-web3js@0.9.2_@metaplex-foundation+umi@0.9.2_@solana+web3.js@1.98_n53ck3katqpbmnf7nliwvjmtbm";
exports.ids = ["vendor-chunks/@metaplex-foundation+umi-rpc-web3js@0.9.2_@metaplex-foundation+umi@0.9.2_@solana+web3.js@1.98_n53ck3katqpbmnf7nliwvjmtbm"];
exports.modules = {

/***/ "(ssr)/./node_modules/.pnpm/@metaplex-foundation+umi-rpc-web3js@0.9.2_@metaplex-foundation+umi@0.9.2_@solana+web3.js@1.98_n53ck3katqpbmnf7nliwvjmtbm/node_modules/@metaplex-foundation/umi-rpc-web3js/dist/esm/createWeb3JsRpc.mjs":
/*!***********************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@metaplex-foundation+umi-rpc-web3js@0.9.2_@metaplex-foundation+umi@0.9.2_@solana+web3.js@1.98_n53ck3katqpbmnf7nliwvjmtbm/node_modules/@metaplex-foundation/umi-rpc-web3js/dist/esm/createWeb3JsRpc.mjs ***!
  \***********************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   createWeb3JsRpc: () => (/* binding */ createWeb3JsRpc)\n/* harmony export */ });\n/* harmony import */ var _metaplex_foundation_umi__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @metaplex-foundation/umi */ \"(ssr)/./node_modules/.pnpm/@metaplex-foundation+umi@0.9.2/node_modules/@metaplex-foundation/umi/dist/esm/Cluster.mjs\");\n/* harmony import */ var _metaplex_foundation_umi__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @metaplex-foundation/umi */ \"(ssr)/./node_modules/.pnpm/@metaplex-foundation+umi@0.9.2/node_modules/@metaplex-foundation/umi/dist/esm/DateTime.mjs\");\n/* harmony import */ var _metaplex_foundation_umi__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @metaplex-foundation/umi */ \"(ssr)/./node_modules/.pnpm/@metaplex-foundation+umi@0.9.2/node_modules/@metaplex-foundation/umi/dist/esm/Amount.mjs\");\n/* harmony import */ var _metaplex_foundation_umi__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @metaplex-foundation/umi */ \"(ssr)/./node_modules/.pnpm/@metaplex-foundation+umi@0.9.2/node_modules/@metaplex-foundation/umi/dist/esm/Account.mjs\");\n/* harmony import */ var _metaplex_foundation_umi_web3js_adapters__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @metaplex-foundation/umi-web3js-adapters */ \"(ssr)/./node_modules/.pnpm/@metaplex-foundation+umi-web3js-adapters@0.9.2_@metaplex-foundation+umi@0.9.2_@solana+web3.js_j5crtotbz2ygs5hancycelgvcy/node_modules/@metaplex-foundation/umi-web3js-adapters/dist/esm/PublicKey.mjs\");\n/* harmony import */ var _metaplex_foundation_umi_web3js_adapters__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @metaplex-foundation/umi-web3js-adapters */ \"(ssr)/./node_modules/.pnpm/@metaplex-foundation+umi-web3js-adapters@0.9.2_@metaplex-foundation+umi@0.9.2_@solana+web3.js_j5crtotbz2ygs5hancycelgvcy/node_modules/@metaplex-foundation/umi-web3js-adapters/dist/esm/TransactionMessage.mjs\");\n/* harmony import */ var _metaplex_foundation_umi_serializers__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @metaplex-foundation/umi/serializers */ \"(ssr)/./node_modules/.pnpm/@metaplex-foundation+umi-serializers-encodings@0.8.9/node_modules/@metaplex-foundation/umi-serializers-encodings/dist/esm/base58.mjs\");\n/* harmony import */ var _solana_web3_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @solana/web3.js */ \"(ssr)/./node_modules/.pnpm/@solana+web3.js@1.98.0_bufferutil@4.0.9_utf-8-validate@5.0.10/node_modules/@solana/web3.js/lib/index.esm.js\");\n\n\n\n\n\nfunction createWeb3JsRpc(context, endpointOrConnection, rpcOptions) {\n  let connection = null;\n  const getConnection = () => {\n    if (connection) {\n      return connection;\n    }\n    if (typeof endpointOrConnection === 'string') {\n      connection = new _solana_web3_js__WEBPACK_IMPORTED_MODULE_0__.Connection(endpointOrConnection, rpcOptions);\n    } else {\n      connection = endpointOrConnection;\n    }\n    return connection;\n  };\n  const cluster = (0,_metaplex_foundation_umi__WEBPACK_IMPORTED_MODULE_1__.resolveClusterFromEndpoint)(getConnection().rpcEndpoint);\n  const getAccount = async (publicKey, options = {}) => {\n    const account = await getConnection().getAccountInfo((0,_metaplex_foundation_umi_web3js_adapters__WEBPACK_IMPORTED_MODULE_2__.toWeb3JsPublicKey)(publicKey), options);\n    return parseMaybeAccount(account, publicKey);\n  };\n  const getAccounts = async (publicKeys, options = {}) => {\n    const accounts = await getConnection().getMultipleAccountsInfo(publicKeys.map(_metaplex_foundation_umi_web3js_adapters__WEBPACK_IMPORTED_MODULE_2__.toWeb3JsPublicKey), options);\n    return accounts.map((account, index) => parseMaybeAccount(account, publicKeys[index]));\n  };\n  const getProgramAccounts = async (programId, options = {}) => {\n    const accounts = await getConnection().getProgramAccounts((0,_metaplex_foundation_umi_web3js_adapters__WEBPACK_IMPORTED_MODULE_2__.toWeb3JsPublicKey)(programId), {\n      ...options,\n      filters: options.filters?.map(filter => parseDataFilter(filter))\n    });\n    return accounts.map(({\n      pubkey,\n      account\n    }) => parseAccount(account, (0,_metaplex_foundation_umi_web3js_adapters__WEBPACK_IMPORTED_MODULE_2__.fromWeb3JsPublicKey)(pubkey)));\n  };\n  const getBlockTime = async (slot,\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  _options = {}) => {\n    const blockTime = await getConnection().getBlockTime(slot);\n    return blockTime ? (0,_metaplex_foundation_umi__WEBPACK_IMPORTED_MODULE_3__.dateTime)(blockTime) : null;\n  };\n  const getBalance = async (publicKey, options = {}) => {\n    const balanceInLamports = await getConnection().getBalance((0,_metaplex_foundation_umi_web3js_adapters__WEBPACK_IMPORTED_MODULE_2__.toWeb3JsPublicKey)(publicKey), options);\n    return (0,_metaplex_foundation_umi__WEBPACK_IMPORTED_MODULE_4__.lamports)(balanceInLamports);\n  };\n  const getRent = async (bytes, options = {}) => {\n    const rentFor = bytes => getConnection().getMinimumBalanceForRentExemption(bytes, options.commitment);\n    if (options.includesHeaderBytes ?? false) {\n      const headerRent = await rentFor(0);\n      const rentPerByte = BigInt(headerRent) / BigInt(_metaplex_foundation_umi__WEBPACK_IMPORTED_MODULE_5__.ACCOUNT_HEADER_SIZE);\n      return (0,_metaplex_foundation_umi__WEBPACK_IMPORTED_MODULE_4__.lamports)(rentPerByte * BigInt(bytes));\n    }\n    return (0,_metaplex_foundation_umi__WEBPACK_IMPORTED_MODULE_4__.lamports)(await rentFor(bytes));\n  };\n  const getLatestBlockhash = async (options = {}) => getConnection().getLatestBlockhash(options);\n  const getTransaction = async (signature, options = {}) => {\n    const response = await getConnection().getTransaction(_metaplex_foundation_umi_serializers__WEBPACK_IMPORTED_MODULE_6__.base58.deserialize(signature)[0], {\n      commitment: options.commitment,\n      maxSupportedTransactionVersion: 0\n    });\n    if (!response) {\n      return null;\n    }\n    if (!response.meta) {\n      // TODO: Custom error.\n      throw new Error('Transaction meta is missing.');\n    }\n    const {\n      transaction,\n      meta\n    } = response;\n    const message = (0,_metaplex_foundation_umi_web3js_adapters__WEBPACK_IMPORTED_MODULE_7__.fromWeb3JsMessage)(transaction.message);\n    const mapPublicKey = key => (0,_metaplex_foundation_umi_web3js_adapters__WEBPACK_IMPORTED_MODULE_2__.fromWeb3JsPublicKey)(new _solana_web3_js__WEBPACK_IMPORTED_MODULE_0__.PublicKey(key));\n    const mapTokenBalance = tokenBalance => ({\n      accountIndex: tokenBalance.accountIndex,\n      amount: (0,_metaplex_foundation_umi__WEBPACK_IMPORTED_MODULE_4__.createAmount)(tokenBalance.uiTokenAmount.amount, 'splToken', tokenBalance.uiTokenAmount.decimals),\n      mint: mapPublicKey(tokenBalance.mint),\n      owner: tokenBalance.owner ? mapPublicKey(tokenBalance.owner) : null\n    });\n    return {\n      message,\n      serializedMessage: context.transactions.serializeMessage(message),\n      signatures: transaction.signatures.map(_metaplex_foundation_umi_serializers__WEBPACK_IMPORTED_MODULE_6__.base58.serialize),\n      meta: {\n        fee: (0,_metaplex_foundation_umi__WEBPACK_IMPORTED_MODULE_4__.lamports)(meta.fee),\n        logs: meta.logMessages ?? [],\n        preBalances: meta.preBalances.map(_metaplex_foundation_umi__WEBPACK_IMPORTED_MODULE_4__.lamports),\n        postBalances: meta.postBalances.map(_metaplex_foundation_umi__WEBPACK_IMPORTED_MODULE_4__.lamports),\n        preTokenBalances: (meta.preTokenBalances ?? []).map(mapTokenBalance),\n        postTokenBalances: (meta.postTokenBalances ?? []).map(mapTokenBalance),\n        innerInstructions: meta.innerInstructions?.map(inner => ({\n          index: inner.index,\n          instructions: inner.instructions.map(instruction => ({\n            programIndex: instruction.programIdIndex,\n            accountIndexes: instruction.accounts,\n            data: _metaplex_foundation_umi_serializers__WEBPACK_IMPORTED_MODULE_6__.base58.serialize(instruction.data)\n          }))\n        })) ?? null,\n        loadedAddresses: {\n          writable: (meta.loadedAddresses?.writable ?? []).map(_metaplex_foundation_umi_web3js_adapters__WEBPACK_IMPORTED_MODULE_2__.fromWeb3JsPublicKey),\n          readonly: (meta.loadedAddresses?.readonly ?? []).map(_metaplex_foundation_umi_web3js_adapters__WEBPACK_IMPORTED_MODULE_2__.fromWeb3JsPublicKey)\n        },\n        computeUnitsConsumed: meta.computeUnitsConsumed ? BigInt(meta.computeUnitsConsumed) : null,\n        err: meta.err\n      }\n    };\n  };\n  const getSignatureStatuses = async (signatures, options = {}) => {\n    const response = await getConnection().getSignatureStatuses(signatures.map(signature => _metaplex_foundation_umi_serializers__WEBPACK_IMPORTED_MODULE_6__.base58.deserialize(signature)[0]), {\n      searchTransactionHistory: options?.searchTransactionHistory ?? false\n    });\n    return response.value.map(status => {\n      if (!status) return null;\n      return {\n        slot: status.slot,\n        confirmations: status.confirmations,\n        error: status.err,\n        commitment: status.confirmationStatus ?? null\n      };\n    });\n  };\n  const accountExists = async (publicKey, options = {}) => !(0,_metaplex_foundation_umi__WEBPACK_IMPORTED_MODULE_4__.isZeroAmount)(await getBalance(publicKey, options));\n  const airdrop = async (publicKey, amount, options = {}) => {\n    const signature = await getConnection().requestAirdrop((0,_metaplex_foundation_umi_web3js_adapters__WEBPACK_IMPORTED_MODULE_2__.toWeb3JsPublicKey)(publicKey), Number(amount.basisPoints));\n    if (options.strategy) {\n      await confirmTransaction(_metaplex_foundation_umi_serializers__WEBPACK_IMPORTED_MODULE_6__.base58.serialize(signature), options);\n      return;\n    }\n    await confirmTransaction(_metaplex_foundation_umi_serializers__WEBPACK_IMPORTED_MODULE_6__.base58.serialize(signature), {\n      ...options,\n      strategy: {\n        type: 'blockhash',\n        ...(await getLatestBlockhash())\n      }\n    });\n  };\n  const call = async (method, params, options = {}) => {\n    const client = getConnection()._rpcClient;\n    const resolvedParams = resolveCallParams(params ? [...params] : [], options.commitment, options.extra);\n    return new Promise((resolve, reject) => {\n      const callback = (error, response) => error ? reject(error) : resolve(response.result);\n      if (options.id) {\n        client.request(method, resolvedParams, options.id, callback);\n      } else {\n        client.request(method, resolvedParams, callback);\n      }\n    });\n  };\n  const sendTransaction = async (transaction, options = {}) => {\n    try {\n      const signature = await getConnection().sendRawTransaction(context.transactions.serialize(transaction), options);\n      return _metaplex_foundation_umi_serializers__WEBPACK_IMPORTED_MODULE_6__.base58.serialize(signature);\n    } catch (error) {\n      let resolvedError = null;\n      if (error instanceof Error && 'logs' in error) {\n        resolvedError = context.programs.resolveError(error, transaction);\n      }\n      throw resolvedError || error;\n    }\n  };\n  const confirmTransaction = async (signature, options) => getConnection().confirmTransaction(parseConfirmStrategy(signature, options), options.commitment);\n  return {\n    getEndpoint: () => getConnection().rpcEndpoint,\n    getCluster: () => cluster,\n    getAccount,\n    getAccounts,\n    getProgramAccounts,\n    getBlockTime,\n    getBalance,\n    getRent,\n    getSlot: async (options = {}) => getConnection().getSlot(options),\n    getLatestBlockhash,\n    getTransaction,\n    getSignatureStatuses,\n    accountExists,\n    airdrop,\n    call,\n    sendTransaction,\n    confirmTransaction,\n    get connection() {\n      return getConnection();\n    }\n  };\n}\nfunction parseAccount(account, publicKey) {\n  return {\n    executable: account.executable,\n    owner: (0,_metaplex_foundation_umi_web3js_adapters__WEBPACK_IMPORTED_MODULE_2__.fromWeb3JsPublicKey)(account.owner),\n    lamports: (0,_metaplex_foundation_umi__WEBPACK_IMPORTED_MODULE_4__.lamports)(account.lamports),\n    rentEpoch: account.rentEpoch ? BigInt(account.rentEpoch) : undefined,\n    publicKey,\n    data: new Uint8Array(account.data)\n  };\n}\nfunction parseMaybeAccount(account, publicKey) {\n  return account ? {\n    ...parseAccount(account, publicKey),\n    exists: true\n  } : {\n    exists: false,\n    publicKey\n  };\n}\nfunction parseDataFilter(filter) {\n  if (!('memcmp' in filter)) return filter;\n  const {\n    bytes,\n    ...rest\n  } = filter.memcmp;\n  return {\n    memcmp: {\n      ...rest,\n      bytes: _metaplex_foundation_umi_serializers__WEBPACK_IMPORTED_MODULE_6__.base58.deserialize(bytes)[0]\n    }\n  };\n}\nfunction parseConfirmStrategy(signature, options) {\n  if (options.strategy.type === 'blockhash') {\n    return {\n      ...options.strategy,\n      signature: _metaplex_foundation_umi_serializers__WEBPACK_IMPORTED_MODULE_6__.base58.deserialize(signature)[0]\n    };\n  }\n  return {\n    ...options.strategy,\n    signature: _metaplex_foundation_umi_serializers__WEBPACK_IMPORTED_MODULE_6__.base58.deserialize(signature)[0],\n    nonceAccountPubkey: (0,_metaplex_foundation_umi_web3js_adapters__WEBPACK_IMPORTED_MODULE_2__.toWeb3JsPublicKey)(options.strategy.nonceAccountPubkey)\n  };\n}\nfunction resolveCallParams(args, commitment, extra) {\n  if (!commitment && !extra) return args;\n  let options = {};\n  if (commitment) options.commitment = commitment;\n  if (extra) options = {\n    ...options,\n    ...extra\n  };\n  args.push(options);\n  return args;\n}\n\n\n//# sourceMappingURL=createWeb3JsRpc.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQG1ldGFwbGV4LWZvdW5kYXRpb24rdW1pLXJwYy13ZWIzanNAMC45LjJfQG1ldGFwbGV4LWZvdW5kYXRpb24rdW1pQDAuOS4yX0Bzb2xhbmErd2ViMy5qc0AxLjk4X241M2NrM2thdHFwYm1uZjdubGl3dmptdGJtL25vZGVfbW9kdWxlcy9AbWV0YXBsZXgtZm91bmRhdGlvbi91bWktcnBjLXdlYjNqcy9kaXN0L2VzbS9jcmVhdGVXZWIzSnNScGMubWpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7OztBQUEySTtBQUN0QjtBQUN2RDtBQUNOOztBQUV4RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVCQUF1Qix1REFBVTtBQUNqQyxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQkFBa0Isb0ZBQTBCO0FBQzVDLG1EQUFtRDtBQUNuRCx5REFBeUQsMkZBQWlCO0FBQzFFO0FBQ0E7QUFDQSxxREFBcUQ7QUFDckQsa0ZBQWtGLHVGQUFpQjtBQUNuRztBQUNBO0FBQ0EsMkRBQTJEO0FBQzNELDhEQUE4RCwyRkFBaUI7QUFDL0U7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxLQUFLLDJCQUEyQiw2RkFBbUI7QUFDbkQ7QUFDQTtBQUNBO0FBQ0EsZUFBZTtBQUNmO0FBQ0EsdUJBQXVCLGtFQUFRO0FBQy9CO0FBQ0EsbURBQW1EO0FBQ25ELCtEQUErRCwyRkFBaUI7QUFDaEYsV0FBVyxrRUFBUTtBQUNuQjtBQUNBLDRDQUE0QztBQUM1QztBQUNBO0FBQ0E7QUFDQSxzREFBc0QseUVBQW1CO0FBQ3pFLGFBQWEsa0VBQVE7QUFDckI7QUFDQSxXQUFXLGtFQUFRO0FBQ25CO0FBQ0EsZ0RBQWdEO0FBQ2hELHVEQUF1RDtBQUN2RCwwREFBMEQsd0VBQU07QUFDaEU7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTixvQkFBb0IsMkZBQWlCO0FBQ3JDLGdDQUFnQyw2RkFBbUIsS0FBSyxzREFBUztBQUNqRTtBQUNBO0FBQ0EsY0FBYyxzRUFBWTtBQUMxQjtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLDZDQUE2Qyx3RUFBTTtBQUNuRDtBQUNBLGFBQWEsa0VBQVE7QUFDckI7QUFDQSwwQ0FBMEMsOERBQVE7QUFDbEQsNENBQTRDLDhEQUFRO0FBQ3BEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0JBQWtCLHdFQUFNO0FBQ3hCLFdBQVc7QUFDWCxTQUFTO0FBQ1Q7QUFDQSwrREFBK0QseUZBQW1CO0FBQ2xGLCtEQUErRCx5RkFBbUI7QUFDbEYsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4REFBOEQ7QUFDOUQsNEZBQTRGLHdFQUFNO0FBQ2xHO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQSxzREFBc0QsTUFBTSxzRUFBWTtBQUN4RSx3REFBd0Q7QUFDeEQsMkRBQTJELDJGQUFpQjtBQUM1RTtBQUNBLCtCQUErQix3RUFBTTtBQUNyQztBQUNBO0FBQ0EsNkJBQTZCLHdFQUFNO0FBQ25DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQSxrREFBa0Q7QUFDbEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQSwwREFBMEQ7QUFDMUQ7QUFDQTtBQUNBLGFBQWEsd0VBQU07QUFDbkIsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQ0FBZ0M7QUFDaEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLDZGQUFtQjtBQUM5QixjQUFjLGtFQUFRO0FBQ3RCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0EsYUFBYSx3RUFBTTtBQUNuQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQix3RUFBTTtBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWUsd0VBQU07QUFDckIsd0JBQXdCLDJGQUFpQjtBQUN6QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFMkI7QUFDM0IiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly90ZW1wbGF0ZS1uZXh0LXRhaWx3aW5kLWNvdW50ZXIvLi9ub2RlX21vZHVsZXMvLnBucG0vQG1ldGFwbGV4LWZvdW5kYXRpb24rdW1pLXJwYy13ZWIzanNAMC45LjJfQG1ldGFwbGV4LWZvdW5kYXRpb24rdW1pQDAuOS4yX0Bzb2xhbmErd2ViMy5qc0AxLjk4X241M2NrM2thdHFwYm1uZjdubGl3dmptdGJtL25vZGVfbW9kdWxlcy9AbWV0YXBsZXgtZm91bmRhdGlvbi91bWktcnBjLXdlYjNqcy9kaXN0L2VzbS9jcmVhdGVXZWIzSnNScGMubWpzP2Y1YjIiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgcmVzb2x2ZUNsdXN0ZXJGcm9tRW5kcG9pbnQsIGRhdGVUaW1lLCBsYW1wb3J0cywgQUNDT1VOVF9IRUFERVJfU0laRSwgaXNaZXJvQW1vdW50LCBjcmVhdGVBbW91bnQgfSBmcm9tICdAbWV0YXBsZXgtZm91bmRhdGlvbi91bWknO1xuaW1wb3J0IHsgdG9XZWIzSnNQdWJsaWNLZXksIGZyb21XZWIzSnNQdWJsaWNLZXksIGZyb21XZWIzSnNNZXNzYWdlIH0gZnJvbSAnQG1ldGFwbGV4LWZvdW5kYXRpb24vdW1pLXdlYjNqcy1hZGFwdGVycyc7XG5pbXBvcnQgeyBiYXNlNTggfSBmcm9tICdAbWV0YXBsZXgtZm91bmRhdGlvbi91bWkvc2VyaWFsaXplcnMnO1xuaW1wb3J0IHsgQ29ubmVjdGlvbiwgUHVibGljS2V5IH0gZnJvbSAnQHNvbGFuYS93ZWIzLmpzJztcblxuZnVuY3Rpb24gY3JlYXRlV2ViM0pzUnBjKGNvbnRleHQsIGVuZHBvaW50T3JDb25uZWN0aW9uLCBycGNPcHRpb25zKSB7XG4gIGxldCBjb25uZWN0aW9uID0gbnVsbDtcbiAgY29uc3QgZ2V0Q29ubmVjdGlvbiA9ICgpID0+IHtcbiAgICBpZiAoY29ubmVjdGlvbikge1xuICAgICAgcmV0dXJuIGNvbm5lY3Rpb247XG4gICAgfVxuICAgIGlmICh0eXBlb2YgZW5kcG9pbnRPckNvbm5lY3Rpb24gPT09ICdzdHJpbmcnKSB7XG4gICAgICBjb25uZWN0aW9uID0gbmV3IENvbm5lY3Rpb24oZW5kcG9pbnRPckNvbm5lY3Rpb24sIHJwY09wdGlvbnMpO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25uZWN0aW9uID0gZW5kcG9pbnRPckNvbm5lY3Rpb247XG4gICAgfVxuICAgIHJldHVybiBjb25uZWN0aW9uO1xuICB9O1xuICBjb25zdCBjbHVzdGVyID0gcmVzb2x2ZUNsdXN0ZXJGcm9tRW5kcG9pbnQoZ2V0Q29ubmVjdGlvbigpLnJwY0VuZHBvaW50KTtcbiAgY29uc3QgZ2V0QWNjb3VudCA9IGFzeW5jIChwdWJsaWNLZXksIG9wdGlvbnMgPSB7fSkgPT4ge1xuICAgIGNvbnN0IGFjY291bnQgPSBhd2FpdCBnZXRDb25uZWN0aW9uKCkuZ2V0QWNjb3VudEluZm8odG9XZWIzSnNQdWJsaWNLZXkocHVibGljS2V5KSwgb3B0aW9ucyk7XG4gICAgcmV0dXJuIHBhcnNlTWF5YmVBY2NvdW50KGFjY291bnQsIHB1YmxpY0tleSk7XG4gIH07XG4gIGNvbnN0IGdldEFjY291bnRzID0gYXN5bmMgKHB1YmxpY0tleXMsIG9wdGlvbnMgPSB7fSkgPT4ge1xuICAgIGNvbnN0IGFjY291bnRzID0gYXdhaXQgZ2V0Q29ubmVjdGlvbigpLmdldE11bHRpcGxlQWNjb3VudHNJbmZvKHB1YmxpY0tleXMubWFwKHRvV2ViM0pzUHVibGljS2V5KSwgb3B0aW9ucyk7XG4gICAgcmV0dXJuIGFjY291bnRzLm1hcCgoYWNjb3VudCwgaW5kZXgpID0+IHBhcnNlTWF5YmVBY2NvdW50KGFjY291bnQsIHB1YmxpY0tleXNbaW5kZXhdKSk7XG4gIH07XG4gIGNvbnN0IGdldFByb2dyYW1BY2NvdW50cyA9IGFzeW5jIChwcm9ncmFtSWQsIG9wdGlvbnMgPSB7fSkgPT4ge1xuICAgIGNvbnN0IGFjY291bnRzID0gYXdhaXQgZ2V0Q29ubmVjdGlvbigpLmdldFByb2dyYW1BY2NvdW50cyh0b1dlYjNKc1B1YmxpY0tleShwcm9ncmFtSWQpLCB7XG4gICAgICAuLi5vcHRpb25zLFxuICAgICAgZmlsdGVyczogb3B0aW9ucy5maWx0ZXJzPy5tYXAoZmlsdGVyID0+IHBhcnNlRGF0YUZpbHRlcihmaWx0ZXIpKVxuICAgIH0pO1xuICAgIHJldHVybiBhY2NvdW50cy5tYXAoKHtcbiAgICAgIHB1YmtleSxcbiAgICAgIGFjY291bnRcbiAgICB9KSA9PiBwYXJzZUFjY291bnQoYWNjb3VudCwgZnJvbVdlYjNKc1B1YmxpY0tleShwdWJrZXkpKSk7XG4gIH07XG4gIGNvbnN0IGdldEJsb2NrVGltZSA9IGFzeW5jIChzbG90LFxuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLXVudXNlZC12YXJzXG4gIF9vcHRpb25zID0ge30pID0+IHtcbiAgICBjb25zdCBibG9ja1RpbWUgPSBhd2FpdCBnZXRDb25uZWN0aW9uKCkuZ2V0QmxvY2tUaW1lKHNsb3QpO1xuICAgIHJldHVybiBibG9ja1RpbWUgPyBkYXRlVGltZShibG9ja1RpbWUpIDogbnVsbDtcbiAgfTtcbiAgY29uc3QgZ2V0QmFsYW5jZSA9IGFzeW5jIChwdWJsaWNLZXksIG9wdGlvbnMgPSB7fSkgPT4ge1xuICAgIGNvbnN0IGJhbGFuY2VJbkxhbXBvcnRzID0gYXdhaXQgZ2V0Q29ubmVjdGlvbigpLmdldEJhbGFuY2UodG9XZWIzSnNQdWJsaWNLZXkocHVibGljS2V5KSwgb3B0aW9ucyk7XG4gICAgcmV0dXJuIGxhbXBvcnRzKGJhbGFuY2VJbkxhbXBvcnRzKTtcbiAgfTtcbiAgY29uc3QgZ2V0UmVudCA9IGFzeW5jIChieXRlcywgb3B0aW9ucyA9IHt9KSA9PiB7XG4gICAgY29uc3QgcmVudEZvciA9IGJ5dGVzID0+IGdldENvbm5lY3Rpb24oKS5nZXRNaW5pbXVtQmFsYW5jZUZvclJlbnRFeGVtcHRpb24oYnl0ZXMsIG9wdGlvbnMuY29tbWl0bWVudCk7XG4gICAgaWYgKG9wdGlvbnMuaW5jbHVkZXNIZWFkZXJCeXRlcyA/PyBmYWxzZSkge1xuICAgICAgY29uc3QgaGVhZGVyUmVudCA9IGF3YWl0IHJlbnRGb3IoMCk7XG4gICAgICBjb25zdCByZW50UGVyQnl0ZSA9IEJpZ0ludChoZWFkZXJSZW50KSAvIEJpZ0ludChBQ0NPVU5UX0hFQURFUl9TSVpFKTtcbiAgICAgIHJldHVybiBsYW1wb3J0cyhyZW50UGVyQnl0ZSAqIEJpZ0ludChieXRlcykpO1xuICAgIH1cbiAgICByZXR1cm4gbGFtcG9ydHMoYXdhaXQgcmVudEZvcihieXRlcykpO1xuICB9O1xuICBjb25zdCBnZXRMYXRlc3RCbG9ja2hhc2ggPSBhc3luYyAob3B0aW9ucyA9IHt9KSA9PiBnZXRDb25uZWN0aW9uKCkuZ2V0TGF0ZXN0QmxvY2toYXNoKG9wdGlvbnMpO1xuICBjb25zdCBnZXRUcmFuc2FjdGlvbiA9IGFzeW5jIChzaWduYXR1cmUsIG9wdGlvbnMgPSB7fSkgPT4ge1xuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZ2V0Q29ubmVjdGlvbigpLmdldFRyYW5zYWN0aW9uKGJhc2U1OC5kZXNlcmlhbGl6ZShzaWduYXR1cmUpWzBdLCB7XG4gICAgICBjb21taXRtZW50OiBvcHRpb25zLmNvbW1pdG1lbnQsXG4gICAgICBtYXhTdXBwb3J0ZWRUcmFuc2FjdGlvblZlcnNpb246IDBcbiAgICB9KTtcbiAgICBpZiAoIXJlc3BvbnNlKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgaWYgKCFyZXNwb25zZS5tZXRhKSB7XG4gICAgICAvLyBUT0RPOiBDdXN0b20gZXJyb3IuXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ1RyYW5zYWN0aW9uIG1ldGEgaXMgbWlzc2luZy4nKTtcbiAgICB9XG4gICAgY29uc3Qge1xuICAgICAgdHJhbnNhY3Rpb24sXG4gICAgICBtZXRhXG4gICAgfSA9IHJlc3BvbnNlO1xuICAgIGNvbnN0IG1lc3NhZ2UgPSBmcm9tV2ViM0pzTWVzc2FnZSh0cmFuc2FjdGlvbi5tZXNzYWdlKTtcbiAgICBjb25zdCBtYXBQdWJsaWNLZXkgPSBrZXkgPT4gZnJvbVdlYjNKc1B1YmxpY0tleShuZXcgUHVibGljS2V5KGtleSkpO1xuICAgIGNvbnN0IG1hcFRva2VuQmFsYW5jZSA9IHRva2VuQmFsYW5jZSA9PiAoe1xuICAgICAgYWNjb3VudEluZGV4OiB0b2tlbkJhbGFuY2UuYWNjb3VudEluZGV4LFxuICAgICAgYW1vdW50OiBjcmVhdGVBbW91bnQodG9rZW5CYWxhbmNlLnVpVG9rZW5BbW91bnQuYW1vdW50LCAnc3BsVG9rZW4nLCB0b2tlbkJhbGFuY2UudWlUb2tlbkFtb3VudC5kZWNpbWFscyksXG4gICAgICBtaW50OiBtYXBQdWJsaWNLZXkodG9rZW5CYWxhbmNlLm1pbnQpLFxuICAgICAgb3duZXI6IHRva2VuQmFsYW5jZS5vd25lciA/IG1hcFB1YmxpY0tleSh0b2tlbkJhbGFuY2Uub3duZXIpIDogbnVsbFxuICAgIH0pO1xuICAgIHJldHVybiB7XG4gICAgICBtZXNzYWdlLFxuICAgICAgc2VyaWFsaXplZE1lc3NhZ2U6IGNvbnRleHQudHJhbnNhY3Rpb25zLnNlcmlhbGl6ZU1lc3NhZ2UobWVzc2FnZSksXG4gICAgICBzaWduYXR1cmVzOiB0cmFuc2FjdGlvbi5zaWduYXR1cmVzLm1hcChiYXNlNTguc2VyaWFsaXplKSxcbiAgICAgIG1ldGE6IHtcbiAgICAgICAgZmVlOiBsYW1wb3J0cyhtZXRhLmZlZSksXG4gICAgICAgIGxvZ3M6IG1ldGEubG9nTWVzc2FnZXMgPz8gW10sXG4gICAgICAgIHByZUJhbGFuY2VzOiBtZXRhLnByZUJhbGFuY2VzLm1hcChsYW1wb3J0cyksXG4gICAgICAgIHBvc3RCYWxhbmNlczogbWV0YS5wb3N0QmFsYW5jZXMubWFwKGxhbXBvcnRzKSxcbiAgICAgICAgcHJlVG9rZW5CYWxhbmNlczogKG1ldGEucHJlVG9rZW5CYWxhbmNlcyA/PyBbXSkubWFwKG1hcFRva2VuQmFsYW5jZSksXG4gICAgICAgIHBvc3RUb2tlbkJhbGFuY2VzOiAobWV0YS5wb3N0VG9rZW5CYWxhbmNlcyA/PyBbXSkubWFwKG1hcFRva2VuQmFsYW5jZSksXG4gICAgICAgIGlubmVySW5zdHJ1Y3Rpb25zOiBtZXRhLmlubmVySW5zdHJ1Y3Rpb25zPy5tYXAoaW5uZXIgPT4gKHtcbiAgICAgICAgICBpbmRleDogaW5uZXIuaW5kZXgsXG4gICAgICAgICAgaW5zdHJ1Y3Rpb25zOiBpbm5lci5pbnN0cnVjdGlvbnMubWFwKGluc3RydWN0aW9uID0+ICh7XG4gICAgICAgICAgICBwcm9ncmFtSW5kZXg6IGluc3RydWN0aW9uLnByb2dyYW1JZEluZGV4LFxuICAgICAgICAgICAgYWNjb3VudEluZGV4ZXM6IGluc3RydWN0aW9uLmFjY291bnRzLFxuICAgICAgICAgICAgZGF0YTogYmFzZTU4LnNlcmlhbGl6ZShpbnN0cnVjdGlvbi5kYXRhKVxuICAgICAgICAgIH0pKVxuICAgICAgICB9KSkgPz8gbnVsbCxcbiAgICAgICAgbG9hZGVkQWRkcmVzc2VzOiB7XG4gICAgICAgICAgd3JpdGFibGU6IChtZXRhLmxvYWRlZEFkZHJlc3Nlcz8ud3JpdGFibGUgPz8gW10pLm1hcChmcm9tV2ViM0pzUHVibGljS2V5KSxcbiAgICAgICAgICByZWFkb25seTogKG1ldGEubG9hZGVkQWRkcmVzc2VzPy5yZWFkb25seSA/PyBbXSkubWFwKGZyb21XZWIzSnNQdWJsaWNLZXkpXG4gICAgICAgIH0sXG4gICAgICAgIGNvbXB1dGVVbml0c0NvbnN1bWVkOiBtZXRhLmNvbXB1dGVVbml0c0NvbnN1bWVkID8gQmlnSW50KG1ldGEuY29tcHV0ZVVuaXRzQ29uc3VtZWQpIDogbnVsbCxcbiAgICAgICAgZXJyOiBtZXRhLmVyclxuICAgICAgfVxuICAgIH07XG4gIH07XG4gIGNvbnN0IGdldFNpZ25hdHVyZVN0YXR1c2VzID0gYXN5bmMgKHNpZ25hdHVyZXMsIG9wdGlvbnMgPSB7fSkgPT4ge1xuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZ2V0Q29ubmVjdGlvbigpLmdldFNpZ25hdHVyZVN0YXR1c2VzKHNpZ25hdHVyZXMubWFwKHNpZ25hdHVyZSA9PiBiYXNlNTguZGVzZXJpYWxpemUoc2lnbmF0dXJlKVswXSksIHtcbiAgICAgIHNlYXJjaFRyYW5zYWN0aW9uSGlzdG9yeTogb3B0aW9ucz8uc2VhcmNoVHJhbnNhY3Rpb25IaXN0b3J5ID8/IGZhbHNlXG4gICAgfSk7XG4gICAgcmV0dXJuIHJlc3BvbnNlLnZhbHVlLm1hcChzdGF0dXMgPT4ge1xuICAgICAgaWYgKCFzdGF0dXMpIHJldHVybiBudWxsO1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgc2xvdDogc3RhdHVzLnNsb3QsXG4gICAgICAgIGNvbmZpcm1hdGlvbnM6IHN0YXR1cy5jb25maXJtYXRpb25zLFxuICAgICAgICBlcnJvcjogc3RhdHVzLmVycixcbiAgICAgICAgY29tbWl0bWVudDogc3RhdHVzLmNvbmZpcm1hdGlvblN0YXR1cyA/PyBudWxsXG4gICAgICB9O1xuICAgIH0pO1xuICB9O1xuICBjb25zdCBhY2NvdW50RXhpc3RzID0gYXN5bmMgKHB1YmxpY0tleSwgb3B0aW9ucyA9IHt9KSA9PiAhaXNaZXJvQW1vdW50KGF3YWl0IGdldEJhbGFuY2UocHVibGljS2V5LCBvcHRpb25zKSk7XG4gIGNvbnN0IGFpcmRyb3AgPSBhc3luYyAocHVibGljS2V5LCBhbW91bnQsIG9wdGlvbnMgPSB7fSkgPT4ge1xuICAgIGNvbnN0IHNpZ25hdHVyZSA9IGF3YWl0IGdldENvbm5lY3Rpb24oKS5yZXF1ZXN0QWlyZHJvcCh0b1dlYjNKc1B1YmxpY0tleShwdWJsaWNLZXkpLCBOdW1iZXIoYW1vdW50LmJhc2lzUG9pbnRzKSk7XG4gICAgaWYgKG9wdGlvbnMuc3RyYXRlZ3kpIHtcbiAgICAgIGF3YWl0IGNvbmZpcm1UcmFuc2FjdGlvbihiYXNlNTguc2VyaWFsaXplKHNpZ25hdHVyZSksIG9wdGlvbnMpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBhd2FpdCBjb25maXJtVHJhbnNhY3Rpb24oYmFzZTU4LnNlcmlhbGl6ZShzaWduYXR1cmUpLCB7XG4gICAgICAuLi5vcHRpb25zLFxuICAgICAgc3RyYXRlZ3k6IHtcbiAgICAgICAgdHlwZTogJ2Jsb2NraGFzaCcsXG4gICAgICAgIC4uLihhd2FpdCBnZXRMYXRlc3RCbG9ja2hhc2goKSlcbiAgICAgIH1cbiAgICB9KTtcbiAgfTtcbiAgY29uc3QgY2FsbCA9IGFzeW5jIChtZXRob2QsIHBhcmFtcywgb3B0aW9ucyA9IHt9KSA9PiB7XG4gICAgY29uc3QgY2xpZW50ID0gZ2V0Q29ubmVjdGlvbigpLl9ycGNDbGllbnQ7XG4gICAgY29uc3QgcmVzb2x2ZWRQYXJhbXMgPSByZXNvbHZlQ2FsbFBhcmFtcyhwYXJhbXMgPyBbLi4ucGFyYW1zXSA6IFtdLCBvcHRpb25zLmNvbW1pdG1lbnQsIG9wdGlvbnMuZXh0cmEpO1xuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICBjb25zdCBjYWxsYmFjayA9IChlcnJvciwgcmVzcG9uc2UpID0+IGVycm9yID8gcmVqZWN0KGVycm9yKSA6IHJlc29sdmUocmVzcG9uc2UucmVzdWx0KTtcbiAgICAgIGlmIChvcHRpb25zLmlkKSB7XG4gICAgICAgIGNsaWVudC5yZXF1ZXN0KG1ldGhvZCwgcmVzb2x2ZWRQYXJhbXMsIG9wdGlvbnMuaWQsIGNhbGxiYWNrKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNsaWVudC5yZXF1ZXN0KG1ldGhvZCwgcmVzb2x2ZWRQYXJhbXMsIGNhbGxiYWNrKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfTtcbiAgY29uc3Qgc2VuZFRyYW5zYWN0aW9uID0gYXN5bmMgKHRyYW5zYWN0aW9uLCBvcHRpb25zID0ge30pID0+IHtcbiAgICB0cnkge1xuICAgICAgY29uc3Qgc2lnbmF0dXJlID0gYXdhaXQgZ2V0Q29ubmVjdGlvbigpLnNlbmRSYXdUcmFuc2FjdGlvbihjb250ZXh0LnRyYW5zYWN0aW9ucy5zZXJpYWxpemUodHJhbnNhY3Rpb24pLCBvcHRpb25zKTtcbiAgICAgIHJldHVybiBiYXNlNTguc2VyaWFsaXplKHNpZ25hdHVyZSk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGxldCByZXNvbHZlZEVycm9yID0gbnVsbDtcbiAgICAgIGlmIChlcnJvciBpbnN0YW5jZW9mIEVycm9yICYmICdsb2dzJyBpbiBlcnJvcikge1xuICAgICAgICByZXNvbHZlZEVycm9yID0gY29udGV4dC5wcm9ncmFtcy5yZXNvbHZlRXJyb3IoZXJyb3IsIHRyYW5zYWN0aW9uKTtcbiAgICAgIH1cbiAgICAgIHRocm93IHJlc29sdmVkRXJyb3IgfHwgZXJyb3I7XG4gICAgfVxuICB9O1xuICBjb25zdCBjb25maXJtVHJhbnNhY3Rpb24gPSBhc3luYyAoc2lnbmF0dXJlLCBvcHRpb25zKSA9PiBnZXRDb25uZWN0aW9uKCkuY29uZmlybVRyYW5zYWN0aW9uKHBhcnNlQ29uZmlybVN0cmF0ZWd5KHNpZ25hdHVyZSwgb3B0aW9ucyksIG9wdGlvbnMuY29tbWl0bWVudCk7XG4gIHJldHVybiB7XG4gICAgZ2V0RW5kcG9pbnQ6ICgpID0+IGdldENvbm5lY3Rpb24oKS5ycGNFbmRwb2ludCxcbiAgICBnZXRDbHVzdGVyOiAoKSA9PiBjbHVzdGVyLFxuICAgIGdldEFjY291bnQsXG4gICAgZ2V0QWNjb3VudHMsXG4gICAgZ2V0UHJvZ3JhbUFjY291bnRzLFxuICAgIGdldEJsb2NrVGltZSxcbiAgICBnZXRCYWxhbmNlLFxuICAgIGdldFJlbnQsXG4gICAgZ2V0U2xvdDogYXN5bmMgKG9wdGlvbnMgPSB7fSkgPT4gZ2V0Q29ubmVjdGlvbigpLmdldFNsb3Qob3B0aW9ucyksXG4gICAgZ2V0TGF0ZXN0QmxvY2toYXNoLFxuICAgIGdldFRyYW5zYWN0aW9uLFxuICAgIGdldFNpZ25hdHVyZVN0YXR1c2VzLFxuICAgIGFjY291bnRFeGlzdHMsXG4gICAgYWlyZHJvcCxcbiAgICBjYWxsLFxuICAgIHNlbmRUcmFuc2FjdGlvbixcbiAgICBjb25maXJtVHJhbnNhY3Rpb24sXG4gICAgZ2V0IGNvbm5lY3Rpb24oKSB7XG4gICAgICByZXR1cm4gZ2V0Q29ubmVjdGlvbigpO1xuICAgIH1cbiAgfTtcbn1cbmZ1bmN0aW9uIHBhcnNlQWNjb3VudChhY2NvdW50LCBwdWJsaWNLZXkpIHtcbiAgcmV0dXJuIHtcbiAgICBleGVjdXRhYmxlOiBhY2NvdW50LmV4ZWN1dGFibGUsXG4gICAgb3duZXI6IGZyb21XZWIzSnNQdWJsaWNLZXkoYWNjb3VudC5vd25lciksXG4gICAgbGFtcG9ydHM6IGxhbXBvcnRzKGFjY291bnQubGFtcG9ydHMpLFxuICAgIHJlbnRFcG9jaDogYWNjb3VudC5yZW50RXBvY2ggPyBCaWdJbnQoYWNjb3VudC5yZW50RXBvY2gpIDogdW5kZWZpbmVkLFxuICAgIHB1YmxpY0tleSxcbiAgICBkYXRhOiBuZXcgVWludDhBcnJheShhY2NvdW50LmRhdGEpXG4gIH07XG59XG5mdW5jdGlvbiBwYXJzZU1heWJlQWNjb3VudChhY2NvdW50LCBwdWJsaWNLZXkpIHtcbiAgcmV0dXJuIGFjY291bnQgPyB7XG4gICAgLi4ucGFyc2VBY2NvdW50KGFjY291bnQsIHB1YmxpY0tleSksXG4gICAgZXhpc3RzOiB0cnVlXG4gIH0gOiB7XG4gICAgZXhpc3RzOiBmYWxzZSxcbiAgICBwdWJsaWNLZXlcbiAgfTtcbn1cbmZ1bmN0aW9uIHBhcnNlRGF0YUZpbHRlcihmaWx0ZXIpIHtcbiAgaWYgKCEoJ21lbWNtcCcgaW4gZmlsdGVyKSkgcmV0dXJuIGZpbHRlcjtcbiAgY29uc3Qge1xuICAgIGJ5dGVzLFxuICAgIC4uLnJlc3RcbiAgfSA9IGZpbHRlci5tZW1jbXA7XG4gIHJldHVybiB7XG4gICAgbWVtY21wOiB7XG4gICAgICAuLi5yZXN0LFxuICAgICAgYnl0ZXM6IGJhc2U1OC5kZXNlcmlhbGl6ZShieXRlcylbMF1cbiAgICB9XG4gIH07XG59XG5mdW5jdGlvbiBwYXJzZUNvbmZpcm1TdHJhdGVneShzaWduYXR1cmUsIG9wdGlvbnMpIHtcbiAgaWYgKG9wdGlvbnMuc3RyYXRlZ3kudHlwZSA9PT0gJ2Jsb2NraGFzaCcpIHtcbiAgICByZXR1cm4ge1xuICAgICAgLi4ub3B0aW9ucy5zdHJhdGVneSxcbiAgICAgIHNpZ25hdHVyZTogYmFzZTU4LmRlc2VyaWFsaXplKHNpZ25hdHVyZSlbMF1cbiAgICB9O1xuICB9XG4gIHJldHVybiB7XG4gICAgLi4ub3B0aW9ucy5zdHJhdGVneSxcbiAgICBzaWduYXR1cmU6IGJhc2U1OC5kZXNlcmlhbGl6ZShzaWduYXR1cmUpWzBdLFxuICAgIG5vbmNlQWNjb3VudFB1YmtleTogdG9XZWIzSnNQdWJsaWNLZXkob3B0aW9ucy5zdHJhdGVneS5ub25jZUFjY291bnRQdWJrZXkpXG4gIH07XG59XG5mdW5jdGlvbiByZXNvbHZlQ2FsbFBhcmFtcyhhcmdzLCBjb21taXRtZW50LCBleHRyYSkge1xuICBpZiAoIWNvbW1pdG1lbnQgJiYgIWV4dHJhKSByZXR1cm4gYXJncztcbiAgbGV0IG9wdGlvbnMgPSB7fTtcbiAgaWYgKGNvbW1pdG1lbnQpIG9wdGlvbnMuY29tbWl0bWVudCA9IGNvbW1pdG1lbnQ7XG4gIGlmIChleHRyYSkgb3B0aW9ucyA9IHtcbiAgICAuLi5vcHRpb25zLFxuICAgIC4uLmV4dHJhXG4gIH07XG4gIGFyZ3MucHVzaChvcHRpb25zKTtcbiAgcmV0dXJuIGFyZ3M7XG59XG5cbmV4cG9ydCB7IGNyZWF0ZVdlYjNKc1JwYyB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y3JlYXRlV2ViM0pzUnBjLm1qcy5tYXBcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@metaplex-foundation+umi-rpc-web3js@0.9.2_@metaplex-foundation+umi@0.9.2_@solana+web3.js@1.98_n53ck3katqpbmnf7nliwvjmtbm/node_modules/@metaplex-foundation/umi-rpc-web3js/dist/esm/createWeb3JsRpc.mjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@metaplex-foundation+umi-rpc-web3js@0.9.2_@metaplex-foundation+umi@0.9.2_@solana+web3.js@1.98_n53ck3katqpbmnf7nliwvjmtbm/node_modules/@metaplex-foundation/umi-rpc-web3js/dist/esm/plugin.mjs":
/*!**************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@metaplex-foundation+umi-rpc-web3js@0.9.2_@metaplex-foundation+umi@0.9.2_@solana+web3.js@1.98_n53ck3katqpbmnf7nliwvjmtbm/node_modules/@metaplex-foundation/umi-rpc-web3js/dist/esm/plugin.mjs ***!
  \**************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   web3JsRpc: () => (/* binding */ web3JsRpc)\n/* harmony export */ });\n/* harmony import */ var _createWeb3JsRpc_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./createWeb3JsRpc.mjs */ \"(ssr)/./node_modules/.pnpm/@metaplex-foundation+umi-rpc-web3js@0.9.2_@metaplex-foundation+umi@0.9.2_@solana+web3.js@1.98_n53ck3katqpbmnf7nliwvjmtbm/node_modules/@metaplex-foundation/umi-rpc-web3js/dist/esm/createWeb3JsRpc.mjs\");\n\n\nfunction web3JsRpc(endpointOrConnection, rpcOptions) {\n  return {\n    install(umi) {\n      umi.rpc = typeof endpointOrConnection === 'string' ? (0,_createWeb3JsRpc_mjs__WEBPACK_IMPORTED_MODULE_0__.createWeb3JsRpc)(umi, endpointOrConnection, rpcOptions) : (0,_createWeb3JsRpc_mjs__WEBPACK_IMPORTED_MODULE_0__.createWeb3JsRpc)(umi, endpointOrConnection);\n    }\n  };\n}\n\n\n//# sourceMappingURL=plugin.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQG1ldGFwbGV4LWZvdW5kYXRpb24rdW1pLXJwYy13ZWIzanNAMC45LjJfQG1ldGFwbGV4LWZvdW5kYXRpb24rdW1pQDAuOS4yX0Bzb2xhbmErd2ViMy5qc0AxLjk4X241M2NrM2thdHFwYm1uZjdubGl3dmptdGJtL25vZGVfbW9kdWxlcy9AbWV0YXBsZXgtZm91bmRhdGlvbi91bWktcnBjLXdlYjNqcy9kaXN0L2VzbS9wbHVnaW4ubWpzIiwibWFwcGluZ3MiOiI7Ozs7O0FBQXdEOztBQUV4RDtBQUNBO0FBQ0E7QUFDQSwyREFBMkQscUVBQWUsMENBQTBDLHFFQUFlO0FBQ25JO0FBQ0E7QUFDQTs7QUFFcUI7QUFDckIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly90ZW1wbGF0ZS1uZXh0LXRhaWx3aW5kLWNvdW50ZXIvLi9ub2RlX21vZHVsZXMvLnBucG0vQG1ldGFwbGV4LWZvdW5kYXRpb24rdW1pLXJwYy13ZWIzanNAMC45LjJfQG1ldGFwbGV4LWZvdW5kYXRpb24rdW1pQDAuOS4yX0Bzb2xhbmErd2ViMy5qc0AxLjk4X241M2NrM2thdHFwYm1uZjdubGl3dmptdGJtL25vZGVfbW9kdWxlcy9AbWV0YXBsZXgtZm91bmRhdGlvbi91bWktcnBjLXdlYjNqcy9kaXN0L2VzbS9wbHVnaW4ubWpzP2Q5NTciXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgY3JlYXRlV2ViM0pzUnBjIH0gZnJvbSAnLi9jcmVhdGVXZWIzSnNScGMubWpzJztcblxuZnVuY3Rpb24gd2ViM0pzUnBjKGVuZHBvaW50T3JDb25uZWN0aW9uLCBycGNPcHRpb25zKSB7XG4gIHJldHVybiB7XG4gICAgaW5zdGFsbCh1bWkpIHtcbiAgICAgIHVtaS5ycGMgPSB0eXBlb2YgZW5kcG9pbnRPckNvbm5lY3Rpb24gPT09ICdzdHJpbmcnID8gY3JlYXRlV2ViM0pzUnBjKHVtaSwgZW5kcG9pbnRPckNvbm5lY3Rpb24sIHJwY09wdGlvbnMpIDogY3JlYXRlV2ViM0pzUnBjKHVtaSwgZW5kcG9pbnRPckNvbm5lY3Rpb24pO1xuICAgIH1cbiAgfTtcbn1cblxuZXhwb3J0IHsgd2ViM0pzUnBjIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1wbHVnaW4ubWpzLm1hcFxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@metaplex-foundation+umi-rpc-web3js@0.9.2_@metaplex-foundation+umi@0.9.2_@solana+web3.js@1.98_n53ck3katqpbmnf7nliwvjmtbm/node_modules/@metaplex-foundation/umi-rpc-web3js/dist/esm/plugin.mjs\n");

/***/ })

};
;